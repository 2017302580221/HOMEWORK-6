# 网络及分布式计算-Homework6

2017302580026 郑慧                          2020年4月4日

**第三章课后题3道**

*P23.*

由题意知，序号空间的长度为k，设序号为 0<sub>(1)</sub> ，1，2，……，k-1，0<sub>(2)</sub>；设窗口长度为N。

GNB协议：

在本协议中，接收方丢弃所有的失序分组，如果分组m已经接受并交付，则所有序号比m小的分组也已经交付，则 N <= k 即可。

SR协议：

序号混乱的临界条件为：接收方窗口为 [k-N-1,0<sub>(2)</sub>] 且 0<sub>(1)</sub> 在发送方窗口并ACK丢失。

故为避免此情况发生，0<sub>(1)</sub> 和 0<sub>(2)</sub> 应避免同时包含在发送或接受窗口，窗口长度 N 小于 0<sub>(1)</sub>~k-N 的长度，即 N < k-N+1

又有N为整数，故 N <= k-N，即 N<= k/2



*P40.*

*a.* 慢启动：[1,6]和[23,26]

*b.* 拥塞避免：[6,16]和[17,22]

*c.* 3个冗余ACK；因为第17个传输轮回的拥塞窗口长度没有下降至1

*d.* 超时检测；因为第23个传输轮回的拥塞窗口长度下降至1

*e.* 32；因为窗口长度等于32时慢启动停止，拥塞避免开始

*f.* 21；因为第16个传输轮回检测到丢失时拥塞窗口长度为42，42/2=21

*g.* 14；因为第22个传输轮回检测到丢失时拥塞窗口长度为29，29/2=14余1

*h.* 第7个传输轮回；由于慢启动是呈2<sup>n</sup>的形式增加分组的，且初始ssthresh = 32，故在第1个传输轮回：发送分组1；第2个传输轮回：发送分组2、3；第3个传输轮回：发送分组4-7；第4个传输轮回：发送分组8-15；第5个传输轮回：发送分组16-31；第6个传输轮回：发送分组32-63；第7个传输轮回：发送分组64-96；得出在第7个传输轮回发送分组70。

包2-3在第二轮传输中发送;数据包4-7在第3轮传输中发送;数据包8-15在第4轮传输中发送;分组16-31在第5次传输中发送

包2-3在第二轮传输中发送;数据包4-7在第3轮传输中发送;数据包8-15在第4轮传输中发送;分组16-31在第5次传输中发送
回合;分组32-63在第6轮传输中发送;分组64-96在第7轮传输中发送。因此，在第7轮传输中发送分组70。

*i.* 拥塞窗口长度为7，ssthresh为4；由图像可知，第26个传输轮回时，拥塞窗口长度等于8，故ssthresh = 8/2 = 4，拥塞窗口长度 = ssthresh  + 3 MSS = 7

*j.* ssthresh为21，拥塞窗口长度为1；第16个传输轮回检测到丢失时拥塞窗口长度为42，ssthresh = 42/2 = 21，由于使用TCP Tahoe，回收到3个冗余ACK后将拥塞窗口长度置为1并进入慢启动状态

*k.* 52；由 *j.* 的分析可知，第17个传输轮回进入慢启动状态并且初始窗口长度为1，ssthresh为21，则故在第17个传输轮回：发送1个分组；第18个传输轮回：发送2个分组；第19个传输轮回：发送4个分组；第20个传输轮回：发送8个分组；第21个传输轮回：发送16个分组；第22个传输轮回：发送21个分组，故总分组数 = 1 + 2 + 4 + 8 + 16 + 21 = 52



*P46.*

*a.* 设最大窗口长度为W（以报文段计）

有 W * MSS / RTT = 10Mbps

报文段长度 = 1500Byte；RTT = 0.15s

计算得W = 125

*b.* 当拥塞窗口大小从W/2变化到W时， W<sub>(平均)</sub>= ( W/2 + W ) / 2 = 3W/4 = 94

平均吞吐量 = W<sub>(平均)</sub> * MSS / RTT = 7.52Mbps

*c.* 丢包后窗口长度为W' = W/2 + 3 = 65

恢复时间 t = (W - W') * RTT = 9s