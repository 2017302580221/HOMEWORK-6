### P34

#### 题目：3. 5. 4节中的变量SendBase和3. 5. 5节中的变量LastByteRcvd之间有什么关系？

在任意给定时间t，SendBase - 1 时最后一个字节的序列号，发送者知道这个字节已经在接收端正确地且按顺序接受，如果管道中有确认消息，那么在接收端接受到的最后一个字节可能会更大，因此：

SendBase - 1 ≤ LastByteRcvd

### P40

#### 题目：考虑图3 58。假设TCP Reno是一个经历如上所示行为的协议，回答下列问题。在各种情况中，简要地论证你的回答。 

##### 	a）、指出 TCP 慢启动运行时的时间间隔。

##### 	b）、指出 TCP 拥塞避免运行时的时间间隔。

##### 	c）、在第 16 个传输轮回之后，报文段的丢失是根据 3 个冗余 ACK 还是根据超时检测岀来的？

##### 	d）、在第 22 个传输轮回之后，报文段的丢失是根据 3 个冗余 ACK 还是根据超时检测出来的？

##### 	e）、在第 1 个传输轮回里，ssthresh 的初始值设置为多少？

##### 	f）、在第 18 个传输轮回里，ssthresh 的值设置为多少？

##### 	g）、在第 24 个传输轮回里，ssthresh的值设置为多少？

##### 	h）、在哪个传输轮回内发送第 70 个报文段？

##### 	i）、假定在第 26 个传输轮回后，通过收到 3 个冗余 ACK 检测出有分组丢失，拥塞的窗口长度和 ssthresh 的值应当是多少？

##### 	j）、假定使用 TCP Tahoe（而不是TCP Reno），并假定在第 16 个传输轮回收到 3 个冗余ACK。在第 19 个传输轮回，ssthresh 和拥塞窗口长度是什么？

##### 	k）、再次假设使用 TCP Tahoe，在第 22 个传输轮回有一个超时事件。从第 17 个传输轮回到第 22 个传输轮回（包括这两个传输轮回），一共发送了多少分组？



a)、TCP慢启动运行的时间间隔：1-6，23-26

b)、TCP拥塞避免运行时间间隔：6-16，17-22

c)、3 个冗余的 ACK，因为第 16 个传输轮回后，cwnd 被切成半个窗口

d)、超时，因为第 22 个传输轮回后，cwnd 被设置为 1

e)、ssthresh = 2 ^ 5 = 32

f)、ssthresh =  ( 32 + 10 ) / 2 = 21

g)、42 / 2 + 3 + 5 = 29

​	ssthresh = 29 / 2 = 14……1

h)、第 7 个传输轮回。理由：第 6 个传输轮回结束时，传输了 63 个报文段，而下一个传输轮回传输 33 个报文段。63 < 70 < 63 + 33

i)、由图像可知，第26个传输轮回时，cwnd等于8

​	TCP Reno 在重复计数为 3 时，ssthresh = cwnd / 2 = 4 ，cwnd=ssthresh + 3 = 7



j)、ssthresh = 42 / 2 = 21 ，cwnd =1 + 2 = 3



k)、第17个传输轮回：发送1个分组；第18个传输轮回：发送2个分组；第19个传输轮回：发送4个分组；第20个传输轮回：发送8个分组；第21个传输轮回：发送16个分组；第22个传输轮回：发送21个分组，故总分组数 = 1 + 2 + 4 + 8 + 16 + 21 = 52

### P44

#### 题目：考虑从一台主机经一条没有丢包的TCP连接向另一台主机发送一个大文件。

##### a）、假定TCP使用不具有慢启动的AIMD进行拥塞控制。假设每当收到一批ACK时，cwnd增加1个

##### MSS,并且假设往返时间大约恒定，cwnd从6MSS增加到12MSS要花费多长时间（假设没有丢包

##### 事件）？ 

##### b）、对于该连接，到时间=6RTT,其平均吞吐量是多少（根据MSS和RTT）?



a)、每个RTT加1个MSS，因此需要6个RTT

b)、6+7+8+9+10+11=51 MSS

​	∴ 平均吞吐量=51 MSS / 6 RTT = 8.5 MSS / RTT

